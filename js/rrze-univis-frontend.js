"use strict";function getURLParameter(url,name){return(RegExp(name+"=(.+?)(&|$)").exec(url)||[,null])[1]}function generateICS(){var url=this.href,v=getURLParameter(url,"v"),h=getURLParameter(url,"h");jQuery.get(univis_ajax.ajax_url,{_ajax_nonce:univis_ajax.ics_nonce,action:"GenerateICS",data:{v:v,h:h}},(function(response){const blob=new Blob([response.icsData],{type:"text/calendar"}),downloadUrl=URL.createObjectURL(blob),a=document.createElement("a");a.href=downloadUrl,a.download=response[["filename"]],document.body.appendChild(a),a.click()}))}jQuery(document).ready((function($){$(".linkToICS").click(generateICS)}));